<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¥í•´ë“±ê¸‰ ì˜ˆì¸¡ - SANZERO</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; line-height: 1.6; color: #333; background: #f8fafc; }

        /* í—¤ë” */
        .header { background: #2563eb; color: white; padding: 1rem 0; }
        .header .container { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: bold; }
        .user-info { color: #e0e7ff; }

        /* ì»¨í…Œì´ë„ˆ */
        .container { max-width: 800px; margin: 0 auto; padding: 0 20px; }

        /* ë©”ì¸ ì»¨í…ì¸  */
        .main { padding: 40px 0; }
        .back-link { color: #2563eb; text-decoration: none; margin-bottom: 20px; display: inline-block; }
        .back-link:hover { text-decoration: underline; }

        /* ì œëª© */
        .title { text-align: center; margin-bottom: 40px; }
        .title h1 { color: #1f2937; font-size: 2.5rem; margin-bottom: 10px; }
        .title p { color: #6b7280; font-size: 1.1rem; }

        /* ì¹´ë“œ */
        .card { background: white; border-radius: 12px; padding: 30px; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }

        /* í¼ */
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        @media (max-width: 768px) { .form-grid { grid-template-columns: 1fr; } }

        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #374151; }
        .form-group label .required { color: #ef4444; }

        .form-control { width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 16px; transition: border-color 0.2s; }
        .form-control:focus { border-color: #2563eb; outline: none; box-shadow: 0 0 0 3px rgba(37,99,235,0.1); }
        select.form-control { cursor: pointer; background: white; }
        textarea.form-control { min-height: 120px; resize: vertical; }

        /* ë²„íŠ¼ */
        .btn { display: inline-block; padding: 14px 28px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; text-decoration: none; text-align: center; transition: all 0.3s; }
        .btn-primary { background: linear-gradient(45deg, #667eea, #764ba2); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(102,126,234,0.3); }
        .btn-primary:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

        /* íŒŒì´í”„ë¼ì¸ ì •ë³´ */
        .pipeline-info { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px; padding: 25px; margin: 25px 0; }
        .pipeline-title { font-size: 1.3rem; font-weight: bold; margin-bottom: 20px; text-align: center; }
        .pipeline-stage { display: flex; align-items: center; gap: 15px; margin: 15px 0; padding: 12px; background: rgba(255,255,255,0.1); border-radius: 8px; }
        .stage-number { background: rgba(255,255,255,0.2); width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .stage-info h4 { margin: 0 0 5px 0; font-size: 1rem; }
        .stage-info p { margin: 0; font-size: 0.9rem; opacity: 0.9; }

        /* ì„œë¹„ìŠ¤ ì •ë³´ */
        .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .info-card { background: #f8fafc; border: 1px solid #e2e8f0; padding: 20px; border-radius: 8px; text-align: center; }
        .info-card h4 { color: #4a5568; margin-bottom: 8px; }
        .info-card p { color: #718096; font-size: 0.9rem; }

        /* ì•Œë¦¼ ë°•ìŠ¤ */
        .alert { padding: 16px; border-radius: 8px; margin: 20px 0; }
        .alert-warning { background: #fef3c7; border-left: 4px solid #f59e0b; color: #92400e; }
        .alert-error { background: #fee2e2; border-left: 4px solid #ef4444; color: #b91c1c; }
        .alert-info { background: #dbeafe; border-left: 4px solid #3b82f6; color: #1e40af; }

        /* ë¡œë”© */
        .loading { opacity: 0.6; pointer-events: none; }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="container">
            <div class="logo">ğŸ¯ SANZERO</div>
            <div class="user-info">testuser</div>
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <main class="main">
        <div class="container">
            <!-- ë’¤ë¡œ ê°€ê¸° -->
            <a href="/" class="back-link">â† ë©”ì¸ ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</a>

            <!-- ì œëª© -->
            <div class="title">
                <h1>ğŸ”® AI ì¥í•´ë“±ê¸‰ ì˜ˆì¸¡</h1>
                <p>3ë‹¨ê³„ AI íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì •í™•í•œ ì¥í•´ë“±ê¸‰ì„ ì˜ˆì¸¡í•©ë‹ˆë‹¤</p>
            </div>

            <!-- ì˜ˆì¸¡ í¼ -->
            <div class="card">
                <h2 style="text-align: center; margin-bottom: 30px;">ğŸ¯ ì¥í•´ë“±ê¸‰ ì˜ˆì¸¡ ì‹ ì²­</h2>

                <form method="POST" action="/analysis/disability" id="predictionForm">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token if csrf_token else 'dummy-token' }}">

                    <!-- ê¸°ë³¸ ì •ë³´ -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="gender">ì„±ë³„ <span class="required">*</span></label>
                            <select name="gender" id="gender" class="form-control" required>
                                <option value="1">ë‚¨ì„±</option>
                                <option value="2">ì—¬ì„±</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="age_group">ë‚˜ì´ëŒ€ <span class="required">*</span></label>
                            <select name="age_group" id="age_group" class="form-control" required>
                                <option value="1">20ëŒ€ ì´í•˜</option>
                                <option value="2">30ëŒ€</option>
                                <option value="3" selected>40ëŒ€</option>
                                <option value="4">50ëŒ€</option>
                                <option value="5">60ëŒ€</option>
                                <option value="6">70ëŒ€ ì´ìƒ</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="industry_type">ì‚°ì—… ë¶„ë¥˜ <span class="required">*</span></label>
                            <select name="industry_type" id="industry_type" class="form-control" required>
                                <option value="1">ë†ì—…/ì„ì—…/ì–´ì—…</option>
                                <option value="2" selected>ì œì¡°ì—…</option>
                                <option value="3">ê±´ì„¤ì—…</option>
                                <option value="4">ìš´ìˆ˜ì—…</option>
                                <option value="5">ì„œë¹„ìŠ¤ì—…</option>
                                <option value="6">ì‚¬ì—…ì„œë¹„ìŠ¤ì—…</option>
                                <option value="7">ë³´ê±´/ì‚¬íšŒë³µì§€ì—…</option>
                                <option value="8">ê¸°íƒ€ ì‚°ì—…</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="accident_type">ì¬í•´ ìœ í˜• <span class="required">*</span></label>
                            <select name="accident_type" id="accident_type" class="form-control" required>
                                <option value="1" selected>ì¶”ë½</option>
                                <option value="2">ì¶©ëŒ</option>
                                <option value="3">ë¼ì„</option>
                                <option value="4">ì ˆë‹¨/ë² ì„</option>
                                <option value="5">í™”ì¬/í­ë°œ</option>
                                <option value="6">êµí†µì‚¬ê³ </option>
                                <option value="7">ê¸°ê³„/ì¥ë¹„ ê´€ë ¨</option>
                                <option value="8">ê¸°íƒ€</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="body_part">ë¶€ìƒ ë¶€ìœ„ <span class="required">*</span></label>
                            <select name="body_part" id="body_part" class="form-control" required>
                                <option value="1">ë¨¸ë¦¬</option>
                                <option value="2">ëª©</option>
                                <option value="3">ê°€ìŠ´</option>
                                <option value="4">ë³µë¶€</option>
                                <option value="5" selected>íŒ”/ì–´ê¹¨</option>
                                <option value="6">ë‹¤ë¦¬/ë¬´ë¦</option>
                                <option value="7">ì†/ì†ê°€ë½</option>
                                <option value="8">ë°œ/ë°œê°€ë½</option>
                                <option value="9">í—ˆë¦¬/ì²™ì¶”</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="injury_type">ë¶€ìƒ ì¢…ë¥˜ <span class="required">*</span></label>
                            <select name="injury_type" id="injury_type" class="form-control" required>
                                <option value="1">ì ˆë‹¨</option>
                                <option value="2">ê³¨ì ˆ</option>
                                <option value="3">íƒˆêµ¬</option>
                                <option value="4" selected>ì—¼ì¢Œ</option>
                                <option value="5">íƒ€ë°•ìƒ</option>
                                <option value="6">ì°°ê³¼ìƒ</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="treatment_period">ì¹˜ë£Œ ê¸°ê°„ <span class="required">*</span></label>
                        <select name="treatment_period" id="treatment_period" class="form-control" required>
                            <option value="1">1ê°œì›” ë¯¸ë§Œ</option>
                            <option value="2">1-2ê°œì›”</option>
                            <option value="3" selected>3ê°œì›”</option>
                            <option value="4">4-6ê°œì›”</option>
                            <option value="5">6ê°œì›”-1ë…„</option>
                            <option value="6">1ë…„ ì´ìƒ</option>
                        </select>
                    </div>

                    <!-- ì¥í•´ ë‚´ìš© -->
                    <div class="form-group">
                        <label for="ì¥í•´_ë‚´ìš©">ì¥í•´ ë‚´ìš© ìƒì„¸ ì„¤ëª… <span class="required">*</span></label>
                        <textarea
                            name="ì¥í•´_ë‚´ìš©"
                            id="ì¥í•´_ë‚´ìš©"
                            class="form-control"
                            placeholder="ì˜ˆ: í”„ë ˆìŠ¤ ì‘ì—… ì¤‘ ì†ê°€ë½ ì ˆë‹¨, ê³„ë‹¨ì—ì„œ ì¶”ë½í•˜ì—¬ ë‹¤ë¦¬ ê³¨ì ˆ ë“± êµ¬ì²´ì ì¸ ì‚¬ê³  ê²½ìœ„ì™€ ë¶€ìƒ ë‚´ìš©ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”."
                            required
                        ></textarea>
                    </div>

                    <!-- ì œì¶œ ë²„íŠ¼ -->
                    <div style="text-align: center; margin-top: 30px;">
                        <button type="submit" class="btn btn-primary" id="submitBtn">
                            ğŸ”® ì¥í•´ë“±ê¸‰ ì˜ˆì¸¡í•˜ê¸°
                        </button>
                    </div>
                </form>
            </div>

            <!-- AI íŒŒì´í”„ë¼ì¸ ì •ë³´ -->
            <div class="pipeline-info">
                <div class="pipeline-title">ğŸ¤– 3ë‹¨ê³„ AI ì˜ˆì¸¡ íŒŒì´í”„ë¼ì¸</div>

                <div class="pipeline-stage">
                    <div class="stage-number">1</div>
                    <div class="stage-info">
                        <h4>ì •í™• ë¬¸êµ¬ ë§¤ì¹­</h4>
                        <p>ì…ë ¥ëœ ì¥í•´ ë‚´ìš©ì—ì„œ ì •í™•í•œ í‚¤ì›Œë“œë¥¼ ì°¾ì•„ ì¦‰ì‹œ ë§¤ì¹­ (ì •í™•ë„ 100%)</p>
                    </div>
                </div>

                <div class="pipeline-stage">
                    <div class="stage-number">2</div>
                    <div class="stage-info">
                        <h4>BERT ìœ ì‚¬ë„ ë§¤ì¹­</h4>
                        <p>AI ì–¸ì–´ ëª¨ë¸ì„ ì‚¬ìš©í•´ ìœ ì‚¬í•œ ì‚¬ë¡€ì™€ ë¹„êµ ë¶„ì„ (ì„ê³„ê°’ 72%)</p>
                    </div>
                </div>

                <div class="pipeline-stage">
                    <div class="stage-number">3</div>
                    <div class="stage-info">
                        <h4>2-Stage ë¨¸ì‹ ëŸ¬ë‹ ì˜ˆì¸¡</h4>
                        <p>K-Prototypes í´ëŸ¬ìŠ¤í„°ë§ê³¼ ë”¥ëŸ¬ë‹ ëª¨ë¸ì„ í†µí•œ ì¢…í•©ì  ì˜ˆì¸¡</p>
                    </div>
                </div>
            </div>

            <!-- ì„œë¹„ìŠ¤ ì •ë³´ -->
            <div class="card">
                <h2 style="text-align: center; margin-bottom: 25px;">ğŸ“Š ì˜ˆì¸¡ ì„œë¹„ìŠ¤ ì •ë³´</h2>

                <div class="info-grid">
                    <div class="info-card">
                        <h4>ì…ë ¥ ë°ì´í„°</h4>
                        <p>7ê°œ ì„ íƒê°’ + 1ê°œ í…ìŠ¤íŠ¸</p>
                    </div>
                    <div class="info-card">
                        <h4>ì˜ˆì¸¡ ë²”ìœ„</h4>
                        <p>1ê¸‰(ê°€ì¥ ì‹¬ê°) ~ 15ê¸‰(ê²½ë¯¸)</p>
                    </div>
                    <div class="info-card">
                        <h4>ì²˜ë¦¬ ì‹œê°„</h4>
                        <p>í‰ê·  2-5ì´ˆ ë‚´ ê²°ê³¼</p>
                    </div>
                    <div class="info-card">
                        <h4>í™œìš© ë°ì´í„°</h4>
                        <p>ì‚°ì¬ íŒë¡€ 1,000+ ê±´</p>
                    </div>
                </div>

                <div class="alert alert-info">
                    <strong>ğŸ“‹ ì°¸ê³ ì‚¬í•­</strong><br>
                    ì´ ì˜ˆì¸¡ì€ ì°¸ê³ ìš©ì´ë©°, ì •í™•í•œ ì¥í•´ë“±ê¸‰ì€ ì˜ë£Œì§„ì˜ ì§„ë‹¨ê³¼ ì‹¬ì‚¬ë¥¼ í†µí•´ ê²°ì •ë©ë‹ˆë‹¤.
                    ì˜ˆì¸¡ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì „ë¬¸ê°€ ìƒë‹´ì„ ë°›ì•„ë³´ì‹œê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.
                </div>
            </div>
        </div>
    </main>

    <script>
        // í¼ ì œì¶œ ì²˜ë¦¬
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            const submitBtn = document.getElementById('submitBtn');
            const injuryDescription = document.getElementById('ì¥í•´_ë‚´ìš©').value.trim();

            if (!injuryDescription) {
                e.preventDefault();
                alert('ì¥í•´ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (injuryDescription.length < 10) {
                e.preventDefault();
                alert('ì¥í•´ ë‚´ìš©ì„ ë” ìì„¸íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”. (ìµœì†Œ 10ì ì´ìƒ)');
                return;
            }

            // ì œì¶œ ë²„íŠ¼ ë¹„í™œì„±í™”
            submitBtn.disabled = true;
            submitBtn.innerHTML = 'ğŸ”„ ì˜ˆì¸¡ ì¤‘...';
            submitBtn.classList.add('loading');
        });

        // í…ŒìŠ¤íŠ¸ìš© ë°ì´í„° ìë™ ì…ë ¥ (ë²ˆë“¤ ê°€ì´ë“œ ì˜ˆì‹œ)
        function fillTestData() {
            document.getElementById('body_part').value = '7';  // ì†
            document.getElementById('injury_type').value = '1';  // ì ˆë‹¨
            document.getElementById('treatment_period').value = '2';  // 1-2ê°œì›”
            document.getElementById('ì¥í•´_ë‚´ìš©').value = 'í”„ë ˆìŠ¤ ì‘ì—… ì¤‘ ì†ê°€ë½ ì ˆë‹¨';
        }

        // í˜ì´ì§€ ë¡œë“œ í›„ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìë™ ì…ë ¥ (ê°œë°œìš©)
        window.addEventListener('load', function() {
            // fillTestData(); // ì£¼ì„ í•´ì œí•˜ë©´ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì…ë ¥ë¨
        });
    </script>
</body>
</html>